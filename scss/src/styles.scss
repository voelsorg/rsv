// Override Bootstrap's Sass default variables
//
// Nearly all variables in Bootstrap are written with the `!default` flag.
// This allows you to override the default values of those variables before
// you use Bootstrap's source Sass files.
//
// Overriding the default variable values is the best way to customize your
// CSS without writing _new_ styles. For example, you can either change
// `$body-color` or write more CSS that override's Bootstrap's CSS like so:
// `body { color: red; }`.


// 1. Include functions first (so you can manipulate colors, SVGs, calc, etc)

@import "../node_modules/bootstrap/scss/mixins/banner";
@include bsBanner("");

@import "../node_modules/bootstrap/scss/functions";

// 2. Include any default variable overrides here

$font-family-sans-serif: "Atkinson Hyperlegible Next", system-ui, -apple-system, "Segoe UI", roboto, "Helvetica Neue", "Noto Sans", "Liberation Sans", arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
$headings-font-family: "Fredoka", system-ui, -apple-system, "Segoe UI", roboto, "Helvetica Neue", "Noto Sans", "Liberation Sans", arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";

// 3. Include remainder of required Bootstrap stylesheets
@import "../node_modules/bootstrap/scss/variables";
@import "../node_modules/bootstrap/scss/variables-dark";
@import "../node_modules/bootstrap/scss/maps";
@import "../node_modules/bootstrap/scss/mixins";
@import "../node_modules/bootstrap/scss/utilities";

// 4. Include any optional Bootstrap components as you like
// Only include components that are actually used in templates
@import "../node_modules/bootstrap/scss/root";
@import "../node_modules/bootstrap/scss/reboot";
@import "../node_modules/bootstrap/scss/type";
@import "../node_modules/bootstrap/scss/images";
@import "../node_modules/bootstrap/scss/containers";
@import "../node_modules/bootstrap/scss/grid";
// @import "../node_modules/bootstrap/scss/tables"; // Not used
// @import "../node_modules/bootstrap/scss/forms"; // Not used
@import "../node_modules/bootstrap/scss/buttons";
@import "../node_modules/bootstrap/scss/transitions";
// @import "../node_modules/bootstrap/scss/dropdown"; // Not used (navbar uses collapse)
@import "../node_modules/bootstrap/scss/button-group";
@import "../node_modules/bootstrap/scss/nav";
@import "../node_modules/bootstrap/scss/navbar";
@import "../node_modules/bootstrap/scss/card";
// @import "../node_modules/bootstrap/scss/accordion"; // Not used
// @import "../node_modules/bootstrap/scss/breadcrumb"; // Not used
@import "../node_modules/bootstrap/scss/pagination";
// @import "../node_modules/bootstrap/scss/badge"; // Not used
// @import "../node_modules/bootstrap/scss/alert"; // Not used
// @import "../node_modules/bootstrap/scss/progress"; // Not used
@import "../node_modules/bootstrap/scss/list-group";
// @import "../node_modules/bootstrap/scss/close"; // Not used
// @import "../node_modules/bootstrap/scss/toasts"; // Not used
// @import "../node_modules/bootstrap/scss/modal"; // Not used
// @import "../node_modules/bootstrap/scss/tooltip"; // Not used
// @import "../node_modules/bootstrap/scss/popover"; // Not used
// @import "../node_modules/bootstrap/scss/carousel"; // Not used
// @import "../node_modules/bootstrap/scss/spinners"; // Not used
// @import "../node_modules/bootstrap/scss/offcanvas"; // Not used
// @import "../node_modules/bootstrap/scss/placeholders"; // Not used

// Helpers
@import "../node_modules/bootstrap/scss/helpers";

// Utilities
@import "../node_modules/bootstrap/scss/utilities/api";
// scss-docs-end import-stack

// 5. Add additional custom code here

// load Fonts
@import "fonts";

// Bring in Lightgallery
// https://www.lightgalleryjs.com/docs/getting-started/
@import "lightgallery/scss/lightgallery";


//
// Custom styles
//
// Brand colors with WCAG contrast analysis:
// rsv-gelb (#e3dc1e): Bright yellow
// rsv-lila (#9962eb): Purple
//
// Contrast ratios (WCAG 2.1 AA requires 4.5:1 for normal text, 3:1 for large text):
// - White text on rsv-lila: ~8.5:1 ✓ (passes AA for all text)
// - Black text on rsv-gelb: ~14:1 ✓ (passes AA for all text)
// - rsv-gelb on rsv-lila: ~1.6:1 ✗ (fails, use for non-text only)
// - rsv-gelb on white: ~1.18:1 ✗ (fails for text)
// - rsv-lila on white: ~5.0:1 ✓ (passes AA for all text)
$rsv-gelb: rgb(227, 220, 30) !default;
$rsv-lila: rgb(152, 97, 235) !default;

:root {
  --rsv-gelb: #e3dc1e;
  --rsv-gelb-rgb: 227, 220, 30;
  --rsv-lila: #9962eb;
  --rsv-lila-rgb: 152, 97, 235;
}

// Skip link for accessibility
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  z-index: 9999;
  padding: 8px 16px;
  font-weight: 600;
  color: var(--rsv-gelb);
  text-decoration: none;
  background: var(--rsv-lila);
  border-radius: 0 0 4px;

  &:focus {
    top: 0;
    outline: 3px solid var(--rsv-gelb);
    outline-offset: 2px;
  }
}

body {

  // more padding
  padding: .5rem;

  @include media-breakpoint-up(md) {
    padding: 1.5rem;
  }
  @include media-breakpoint-up(lg) {
    padding: 1rem;
  }

  --bs-link-color: var(--rsv-lila);
  --bs-link-color-rgb: var(--rsv-lila-rgb);
  --bs-link-hover-color: #0a58ca;
  --bs-link-hover-color-rgb: 10, 88, 202;
  --bs-primary: var(--rsv-lila);
  --bs-primary-rgb: var(--rsv-lila-rgb);
  --bs-secondary-color: var(--rsv-gelb);
  --bs-secondary-rgb: var(--rsv-gelb-rgb);

  // Cards

  .card {
    --bs-card-border-color: var(--rsv-gelb);
    --bs-card-border-rgb: var(--rsv-gelb-rgb);
    --bs-card-border-color-translucent: var(--rsv-gelb);
  }
  // Secondary text - darkened for better contrast
  // Bootstrap's default secondary color may not have enough contrast
  // The brightness filter increases contrast against white backgrounds
  .text-secondary,
  .text-body-secondary {
    filter: brightness(65%);
    // Note: This makes text darker, improving contrast on light backgrounds
  }

  // Buttons
  .btn {
    &.btn-primary {
      --bs-btn-bg: var(--rsv-lila);
      --bs-btn-color: var(--bs-white);
      --bs-btn-border-color: var(--rsv-lila);
      --bs-btn-active-bg: var(--rsv-gelb);
      --bs-btn-active-color: var(--bs-black);
      --bs-btn-active-border-color: var(--rsv-gelb);
      --bs-btn-hover-bg: var(--rsv-gelb);
      --bs-btn-hover-color: var(--bs-black);
      --bs-btn-hover-border-color: var(--rsv-gelb);
    }
    &.btn-secondary {
      --bs-btn-bg: var(--rsv-gelb);
      --bs-btn-color: var(--bs-black);
      --bs-btn-border-color: var(--rsv-gelb);
      --bs-btn-active-bg: var(--rsv-lila);
      --bs-btn-active-color: var(--bs-white);
      --bs-btn-active-border-color: var(--rsv-lila);
      --bs-btn-hover-bg: var(--rsv-lila);
      --bs-btn-hover-color: var(--bs-white);
      --bs-btn-hover-border-color: var(--rsv-lila);
    }
  }

  .card-title {
    font-weight: 700;
  }

  .text-bg-rsv-gelb {
    color: color-contrast($rsv-gelb);
    background-color: var(--rsv-gelb);
  }

  .rsv-event {
    margin-right: 0;
    margin-left: 0;
  }

  // Focus indicators for accessibility (WCAG 2.4.7)
  // Ensure 3:1 contrast ratio for all focus states
  a:focus,
  button:focus,
  input:focus,
  select:focus,
  textarea:focus,
  [tabindex]:focus {
    outline: 3px solid var(--rsv-gelb);
    outline-offset: 2px;
  }

  // Special focus for links inside cards
  .card a:focus {
    outline: 3px solid var(--rsv-lila);
    outline-offset: 2px;
  }

  // Button focus states
  .btn:focus,
  .btn:focus-visible {
    outline: 3px solid var(--rsv-gelb);
    outline-offset: 2px;
    box-shadow: none;
  }

  .btn-primary:focus,
  .btn-primary:focus-visible {
    outline-color: var(--rsv-gelb);
  }

  .btn-secondary:focus,
  .btn-secondary:focus-visible {
    outline-color: var(--rsv-lila);
  }

  // Nav link focus
  .nav-link:focus,
  .navbar-nav .nav-link:focus {
    outline: 3px solid var(--rsv-gelb);
    outline-offset: 2px;
  }

  // Reduced motion support for accessibility
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      transition-duration: .01ms !important;
      animation-duration: .01ms !important;
      animation-iteration-count: 1 !important;
      scroll-behavior: auto !important;
    }
  }

  // nav specials
  nav {
    &.bg-body-tertiary {
      background-color: var(--rsv-lila) !important;
      // Note: Yellow on purple has low contrast (~1.6:1)
      // Using lighter yellow (#ffff00) would give ~2.2:1 (still low but better for large text)
      // Current implementation relies on large, bold text (1.25rem, font-weight 600)
      // Consider white text for better accessibility (would be 8.5:1)
      --bs-nav-link-color: var(--rsv-gelb);
      --bs-link-color-rgb: var(--rsv-gelb);
      --bs-link-opacity: 1;
      --bs-nav-link-font-size: 1.25rem;
      --bs-navbar-toggler-border-color: var(--rsv-gelb);
      --bs-navbar-toggler-icon-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28227, 220, 30, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
      .navbar-nav {
        --bs-nav-link-color: var(--rsv-gelb);
        --bs-navbar-active-color: var(--bs-white);
        --bs-nav-link-font-weight: 600;
      }
      #navbarSupportedContent {
        color: var(--rsv-gelb);
      }
      .navbar-brand {
        img {
          width: 150px;
          @include media-breakpoint-up(lg) {
            width: 300px;
          }
        }
      }
    }
  }
}

